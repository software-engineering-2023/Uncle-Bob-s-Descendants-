<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OLtA Bank</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/PayBill.css" />
    <link rel="stylesheet" href="css/clientHomeStyle.css">
    <link rel="stylesheet" href="css/errormsg.css">
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous"
        />
    <script
            defer
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </head>


  <div id="includedHeader">
   
  </div>

  <body>

    <!-- importing of success-error messages -->
    <div class="success-error" id="includedContent"></div>

    <div class="background-pic">
      <section class="fs">
        <form novalidate class="was-validated">
          <h2 class="text-dark">Bill Id</h2>
          <div class="input-group input-group-lg">
            <input type="text" id="idtext" class="form-control" required />
            <div class="toBeRed invalid-feedback">
              Id does not exist or empty field , Please enter a valid Id
            </div>
            <div class="toBeGreen valid-feedback">Valid Bill Id</div>
          </div>
          <button id="pay-btn" class="btn btn-dark mt-5 btn-lg">Pay</button>
        </form>
      </section>
    </div>
    


    <div id="includedFooter">
            
    </div>
    
    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;        
            targetElement.childNodes[0].childNodes[1].childNodes[1].href = "Bills.html";    
          })
          .catch(error => {
            console.error('Error:', error);
          });
        }
        
        // Include HTML file and execute the inline script
        includeHTML('/clientHeader.html', 'includedHeader');
        includeHTML('/clientFooter.html', 'includedFooter');
        
    </script>

    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;
            
            //execute my script (starts here)
            
            const payBtn = document.getElementById("pay-btn");
            const idtext = document.getElementById("idtext");
            
            const success_popup=document.getElementById('success');
            const error_popup =document.getElementById('error');
            const s_close=document.getElementById('s_button');
            const e_close=document.getElementById('e_button');
            
            payBtn.addEventListener('click', (e)=>{
              e.preventDefault();
              const inpStr = idtext.value;
              if(inpStr.localeCompare("GG-00-87")!==0 &&
               inpStr.localeCompare("")!==0){
                success_popup.childNodes[1].childNodes[5].innerHTML = "Bill Paid Successfully!"
                success_popup.style.display="block";
              }
              else{
                error_popup.style.display="block";
              }
            })
            

            s_close.onclick =function(){
              success_popup.style.display="none";
              idtext.value="";
            }
            e_close.onclick=function(){
              error_popup.style.display="none";
              idtext.value="";
            } 

            //my script ends here

          })
          .catch(error => {
            console.error('Error:', error);
          });
        }

        // Include HTML file and execute the inline script
        includeHTML('/errormsg.html', 'includedContent');
        
    </script>

  </body>
</html>
