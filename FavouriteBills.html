<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OLtA Bank</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous"
        />
    <script
            defer
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="css/BillPaymentTables.css" />
    <link rel="stylesheet" href="css/clientHomeStyle.css">
    <link rel="stylesheet" href="css/errormsg.css">
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </head>

  </head>

    <div id="includedHeader">
    
    </div>  
  
    <body>

      <!-- importing of success-error messages -->
      <div class="success-error" id="includedContent"></div>

    <div class="main-div container">
      <table
        class="table mt-5 table-hover table-primary table-group-divider table-dark"
      >
        <thead>
          <tr>
            <th class="text-primary">Bill Type</th>
            <th class="text-primary">Date Paid</th>
            <th class="text-primary">Bill Id</th>
            <th class="text-primary">Amount</th>
            <th class="text-primary">Currency</th>
            <th class="text-primary">Repay</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>Water</td>
            <td>2/7/2013</td>
            <td>W-00-30</td>
            <td>100</td>
            <td>SAR</td>
            <td>
              <button type="button" class="add-to-fav">Repay</button>
            </td>
          </tr>
          <tr class="bottom-tr">
            <td>Telephone</td>
            <td>4/7/2013</td>
            <td>T-00-20</td>
            <td>1000</td>
            <td>USD</td>
            <td>
              <button type="button" class="add-to-fav">Repay</button>
            </td>
          </tr>
        </tbody>
      </table>

      <img class="bg-img" src="images/bill_bg.png" alt="">
    </div>

    
    
    
    
    <div id="includedFooter">
        
    </div>

    <script>
      function includeHTML(url, targetId) {
      fetch(url)
        .then(response => response.text())
        .then(data => {
          const targetElement = document.getElementById(targetId);
          targetElement.innerHTML = data;
          
          //execute my script (starts here)
          const deleteBtns = document.getElementsByClassName('add-to-fav');

          const success_popup=document.getElementById('success');
          const error_popup =document.getElementById('error');
          const s_close=document.getElementById('s_button');
          const e_close=document.getElementById('e_button');
          
          for(let deleteBtn of deleteBtns){
              deleteBtn.addEventListener('click', ()=>{
                  success_popup.childNodes[1].childNodes[5].innerHTML = "Repaid successfully!"
                  success_popup.style.display="block";
              });
          }
          
  
          s_close.onclick =function(){
            success_popup.style.display="none";
          }
          e_close.onclick=function(){
            error_popup.style.display="none";
          } 
  
          //my script ends here
  
        })
        .catch(error => {
          console.error('Error:', error);
        });
      }
  
      // Include HTML file and execute the inline script
      includeHTML('/errormsg.html', 'includedContent');
      
  </script>

    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;     
            targetElement.childNodes[0].childNodes[1].childNodes[1].href = "Bills.html";       
          })
          .catch(error => {
            console.error('Error:', error);
          });
        }
        
        // Include HTML file and execute the inline script
        includeHTML('/clientHeader.html', 'includedHeader');
        includeHTML('/clientFooter.html', 'includedFooter');
        
    </script>

  </body>
</html>
