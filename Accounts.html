<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="css/Accounts.css" />
    <link rel="stylesheet" href="css/clientHomeStyle.css">
    <link rel="stylesheet" href="css/errormsg.css">
    <title>Accounts</title>
</head>

<div id="includedHeader">
   
</div>

<body>
    
    <!-- importing of success-error messages -->
    <div class="success-error" id="includedContent"></div>


    <div class="table-div">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Accounts</th>
                    <th>Balance</th>
                    <th>Transactions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Ahmad</td>
                    <td>6000</td>
                    <td class="transactions-link"> <a href="Transactions.html">View Details</a> </td>
                </tr>
                <tr>
                    <td>Omar</td>
                    <td>100000</td>
                    <td class="transactions-link"> <a href="Transactions.html">View Details</a> </td>
                </tr>
                <tr>
                    <td>Logine</td>
                    <td>10000</td>
                    <td class="transactions-link"> <a href="Transactions.html">View Details</a> </td>
                </tr>
                <tr>
                    <td>Abdo</td>
                    <td>7000</td>
                    <td class="transactions-link"> <a href="Transactions.html">View Details</a> </td>
                </tr>
                <!-- and so on... -->
            </tbody>
        </table>

        <div class="add-account-inside-table">
            <a href="#add-account-div" > Create an Account!</a>
        </div>
    </div>

        
    <div id="add-account-div" class="add-account-div">
        <div class="form">
            <div class="title">Create an account!</div>
            
            <div class="input-container ic1">
                <input id="account-name" class="input" type="text" placeholder="Account Name"/>
            </div>
            
            <div class="input-container ic2">
                <input id="account-type" class="input" type="text" placeholder="Account Type"/>
            </div>
            
            <div class="input-container ic2">
                <input id="national-id" class="input" type="text" placeholder="National ID"/>
            </div>

            <button id="submit-btn" type="text" class="submit">submit</button>
        </div>
    </div>


    <div id="includedFooter">
        
    </div>

    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;            
          })
          .catch(error => {
            console.error('Error:', error);
          });
        }
        
        // Include HTML file and execute the inline script
        includeHTML('/clientHeader.html', 'includedHeader');
        includeHTML('/clientFooter.html', 'includedFooter');
        
    </script>
    
    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;
            
            //execute my script (starts here)
            const submitBtn = document.getElementById('submit-btn');
            const accName = document.getElementById('account-name');
            const accType = document.getElementById('account-type');
            const natId = document.getElementById('national-id');

            const success_popup=document.getElementById('success');
            const error_popup =document.getElementById('error');
            const s_close=document.getElementById('s_button');
            const e_close=document.getElementById('e_button');
            

            
            submitBtn.addEventListener('click', ()=>{

                if(accName.value=='' || accType.value=='' || natId.value==''){
                    error_popup.style.display="block";       
                }
                else if(accName.value!='' && accType.value!='' && natId.value!=''){
                    success_popup.style.display="block";
                }
                else{
                    error_popup.style.display="block";
                }
                accName.value='';
                accType.value='';
                natId.value='';
                
            });
            
    
            s_close.onclick =function(){
              success_popup.style.display="none";
            }
            e_close.onclick=function(){
              error_popup.style.display="none";
            } 
    
            //my script ends here
    
          })
          .catch(error => {
            console.error('Error:', error);
          });
        }
    
        // Include HTML file and execute the inline script
        includeHTML('/errormsg.html', 'includedContent');
        
    </script>

</body>

</html>