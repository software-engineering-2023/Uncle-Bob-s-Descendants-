<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/AddBill.css" />
    <link rel="stylesheet" href="css/clientHomeStyle.css">
    <link rel="stylesheet" href="css/errormsg.css">
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </head>


  <div id="includedHeader">
   
  </div>

  <body>

    <!-- importing of success-error messages -->
    <div class="success-error" id="includedContent"></div>

    <div class="background-pic">

      <form id="main-form" class="main-form">
        
        <div class="form-group">
          <label class="inp-label" for="exampleInputEmail1">Amount of Money</label>
          <input id="inp-amount" class="form-control label-info" placeholder="Enter Amount" required>
        </div>
        
        <br>
        
        <div class="form-group">
          <label class="inp-label" for="card-issue">Select Bill Type</label>
          <select id="bill-type" class="form-control" required>
            <option selected>Select Bill Type</option>
            <option>Gas</option>
            <option>Electricity</option>
            <option>Water</option>
            <option>Telephone</option>
          </select>
        </div>
        
        <br>

        <div class="form-group">
          <label class="inp-label" for="inp-date">Due Date</label>
          <input id="inp-date" type="date" class="form-control label-info" required>
        </div>
        
        <br>

        <div class="form-check">
          <input class="form-check-input checkbox" type="checkbox" id="checkbox" value="option1">
          <label class="form-check-label" for="checkbox">Set Reminder for the Bill</label>
        </div>  
        
        <br>

        <button id="main-btn" type="submit" class="btn btn-primary btn-dark">Add Bill</button>
      </form>
    </div>
    


    <div id="includedFooter">
            
    </div>
    
    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;            
          })
          .catch(error => {
            console.error('Error:', error);
          });
        }
        
        // Include HTML file and execute the inline script
        includeHTML('/clientHeader.html', 'includedHeader');
        includeHTML('/clientFooter.html', 'includedFooter');
        
    </script>

    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;
            
            //execute my script (starts here)
            
            const inpForm = document.getElementById('main-form');
            const inpAmount = document.getElementById('inp-amount');
            const inpSelect = document.getElementById('bill-type');
            const inpDate = document.getElementById('inp-date');
            const inpCheckbox = document.getElementById('checkbox');
            
            const success_popup=document.getElementById('success');
            const error_popup =document.getElementById('error');
            const s_close=document.getElementById('s_button');
            const e_close=document.getElementById('e_button');
            
            // console.log(form);
            inpForm.addEventListener('submit', (e)=>{
              e.preventDefault();
              success_popup.childNodes[1].childNodes[5].innerHTML = "Bill Added Sucessfully!"
              success_popup.style.display="block";     
              success_popup.style.left="30em";
            });
            
            function reset(){
              inpAmount.value="";
              inpSelect.selectedIndex=0;
              inpDate.value="";
              inpCheckbox.checked=false;
            }
            s_close.onclick =function(){
              success_popup.style.display="none";
              reset();
            }
            e_close.onclick=function(){
              error_popup.style.display="none";
              reset();
            } 

            //my script ends here

          })
          .catch(error => {
            console.error('Error:', error);
          });
        }

        // Include HTML file and execute the inline script
        includeHTML('/errormsg.html', 'includedContent');
        
    </script>

  </body>
</html>
