<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/clientHomeStyle.css">
    <link rel="stylesheet" href="css/bankerIssues.css">
    <link rel="stylesheet" href="css/errormsg.css">
    <title>OLtA Bank</title>
</head>

<div id="includedHeader">
   
</div>

<body>

    <!-- importing of success-error messages -->
    <div class="success-error" id="includedContent"></div>

    <div class="main-div">
        
        <h2 class="issues-header"> 
            Clients Issues
        </h2>

        <div class="my-list list-group ">
            
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start list-group-item-dark"
                 data-bs-toggle="modal" data-bs-target="#modal-1">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Credit Card Theft</h5>
                <small class="text-muted">3 hours ago</small>
              </div>
              <p class="mb-1">My credit card has been stolen a couple of hours ago in Oraby Street, Cairo. 
                I hope the matter is handled as quickly as possible</p>
              <small class="text-muted">A new credit card is requested</small>
            </a>
            
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                data-bs-toggle="modal" data-bs-target="#modal-1">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Credit Card Loss</h5>
                <small class="text-muted">7 hours ago</small>
              </div>
              <p class="mb-1">I would like to report the loss of my credit card and request having it
                deactivated.
              </p>
              <small class="text-muted">No new card is requested</small>
            </a>

            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start list-group-item-dark"
                data-bs-toggle="modal" data-bs-target="#modal-1">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Loan Requirements</h5>
                <small class="text-muted">1 day ago</small>
              </div>
              <p class="mb-1">I would like to inquire about the requirements of applying to a loan.
                In other words, what makes me eligible for a loan?</p>
              <small class="text-muted">No loan application requested</small>
            </a>
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                data-bs-toggle="modal" data-bs-target="#modal-1">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Credit Card Damage</h5>
                <small class="text-muted">3 days ago</small>
              </div>
              <p class="mb-1">I would like to report the damage of my credit card.</p>
              <small class="text-muted">A new credit card is requested</small>
            </a>

          </div>
        

        <!-- Modal -->
        <div class="modal fade" id="modal-1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="enrollLabel">Reply to client</h5>
                        <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        ></button>
                      </div>
                      <div class="modal-body">
                        <p class="lead">Don't forget to actually resolve the issue if any!</p>
                        <form>
                          <div class="mb-3">
                            <label for="first-name" class="col-form-label">
                              Banker Name:
                            </label>
                            <input type="text" class="form-control" id="first-name" placeholder="e.g. Abdo Salah"
                             required/>
                          </div>
                          <div class="mb-3">
                            <label for="reply-message" class="col-form-label">Reply Message:</label>
                            <textarea type="text" class="form-control" id="inp-message"
                                placeholder="type here" rows="3" required></textarea>     
                          </div>

                          <div id="toBeHidden">
                            <p class="toBeGreen">Message sent successfully!</p> 
                          </div>
                          <div id="toBeHidden2">
                            <p class="toBeRed">Empty Field!</p> 
                          </div>


                        </form>
                      </div>
                      <div class="modal-footer">
                        <button
                          id="close-btn"
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                        <button id="submit-btn" type="button" class="btn btn-primary">Submit</button>
                      </div>
                </div>
            </div>
        </div>

    </div>



    <div id="includedFooter">
        
    </div>

    <script>
        function includeHTML(url, targetId) {
        fetch(url)
          .then(response => response.text())
          .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;            
          })
          .catch(error => {
            console.error('Error:', error);
          });
        }
        
        // Include HTML file and execute the inline script
        includeHTML('/bankerHeader.html', 'includedHeader');
        includeHTML('/clientFooter.html', 'includedFooter');
        
    </script>

    <!-- include error/success message -->
    <script>
        function includeHTML(url, targetId) {
        fetch(url)
            .then(response => response.text())
            .then(data => {
            const targetElement = document.getElementById(targetId);
            targetElement.innerHTML = data;
            
            //execute my script (starts here)
            
            const submitBtn = document.getElementById('submit-btn');
            const closeBtn = document.getElementById('close-btn');
            const inpName = document.getElementById('first-name');
            const inpMessage = document.getElementById('inp-message');
            const s_message = document.getElementById('toBeHidden');
            const e_message = document.getElementById('toBeHidden2');
            

            const success_popup=document.getElementById('success');
            const error_popup =document.getElementById('error');
            const s_close=document.getElementById('s_button');
            const e_close=document.getElementById('e_button');
            
            submitBtn.addEventListener('click', ()=>{
                s_message.style.display="none";
                e_message.style.display="none";
                if(inpName.value=="" || inpMessage.value==""){
                    e_message.style.display="block";
                    return;
                }
                s_message.style.display="block";
            });

            closeBtn.addEventListener('click', ()=>{
                s_message.style.display="none";
                e_message.style.display="none";
                inpName.value="";
                inpMessage.value="";
            });
            
    
            s_close.onclick =function(){
                success_popup.style.display="none";
            }
            e_close.onclick=function(){
                error_popup.style.display="none";
            } 
    
            //my script ends here
    
            })
            .catch(error => {
            console.error('Error:', error);
            });
        }
    
        // Include HTML file and execute the inline script
        includeHTML('/errormsg.html', 'includedContent');
        
    </script>

</body>
</html>